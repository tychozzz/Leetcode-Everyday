# [5. æœ€é•¿å›æ–‡å­ä¸²](https://leetcode.cn/problems/longest-palindromic-substring/)

## é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œæ‰¾åˆ° `s` ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "babad"
è¾“å‡ºï¼š"bab"
è§£é‡Šï¼š"aba" åŒæ ·æ˜¯ç¬¦åˆé¢˜æ„çš„ç­”æ¡ˆã€‚
```

**ç¤ºä¾‹ 2**

```
è¾“å…¥ï¼šs = "cbbd"
è¾“å‡ºï¼š"bb"
```

**æç¤ºï¼š**

-   `1 <= s.length <= 1000`
-   `s` ä»…ç”±æ•°å­—å’Œè‹±æ–‡å­—æ¯ç»„æˆ

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ³•ä¸€ï¼šä¸­å¿ƒæ‰©æ•£æ³• + åŒæŒ‡é’ˆ

æ€è·¯ä¸ºï¼šä» `s` ä¸­é€‰å–ä¸€ä¸ªä½ç½®ä½œä¸ºä¸­å¿ƒï¼Œä»è¯¥ä¸­å¿ƒä½ç½®å‘ä¸¤è¾¹æ‰©æ•£ï¼Œå¦‚æœä¸¤è¾¹å…ƒç´ ä¸ç›¸ç­‰çš„æ—¶å€™åœæ­¢ã€‚

ä¸¾ä¸ªğŸŒ°ï¼šå¦‚ `abbac`ï¼Œå‡è®¾é€‰å–ç¬¬ä¸€ä¸ª'b'ä½œä¸ºä¸­å¿ƒä½ç½®ï¼Œ`i = 2`ã€‚è®¾å·¦æŒ‡é’ˆ `l == i - 1` ï¼Œå³æŒ‡é’ˆ`r == i + 1` 

1.   å…ˆå‘å·¦æ‰©æ•£ã€‚`l` ä¸€ç›´è‡ªå‡ï¼Œç›´åˆ°é‡åˆ°ä¸ä¸­å¿ƒä½ç½®ä¸ç›¸ç­‰çš„å­—ç¬¦ã€‚æ­¤æ—¶ `s[l] = 'a'` `l = 1` 
2.   å†å‘å³æ‰©æ•£ã€‚`r` ä¸€ç›´è‡ªå¢ï¼Œç›´åˆ°é‡åˆ°ä¸ä¸­å¿ƒä½ç½®ä¸ç›¸ç­‰çš„å­—ç¬¦ã€‚æ­¤æ—¶ `s[r] = 'a'` `r = 3`
3.   å·¦æŒ‡é’ˆä¸å³æŒ‡é’ˆåŒæ—¶å¼€å§‹åŒå‘æ‰©æ•£ï¼Œç›´åˆ°å·¦å’Œå³ä¸ç›¸ç­‰

ä¸€å¼€å§‹ä¹‹æ‰€ä»¥è¦æ‰§è¡Œç¬¬1æ­¥å’Œç¬¬2æ­¥ï¼Œå°±æ˜¯è¦è¿›ä¸€æ­¥ç¡®å®šä¸­å¿ƒå—ã€‚å› ä¸ºå®šä¹‰çš„ä¸­å¿ƒå¯èƒ½åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œä½†å¯èƒ½ç”±å¤šä¸ªç›¸åŒå…ƒç´ ç»„æˆã€‚

éå† `s`ï¼Œ æ‰§è¡Œå®Œä¸Šè¿°æµç¨‹åï¼Œéœ€è¦æ›´æ–°æœ€é•¿å›æ–‡å­ä¸²çš„å·¦ç«¯ç‚¹ä¸é•¿åº¦ï¼Œä»¥ä¾¿äºæœ€åè¿”å›ç»“æœ

#### Python3

```python
class Solution:
    def longestPalindrome(self, s: str) -> str:
        maxLen, maxLeft = 0, 0
        for i in range(n):
            l, r = i - 1, i + 1
            curLen = 1
            while l >= 0 and s[l] == s[i]:
                curLen, l = curLen + 1, l - 1
            while r < n and s[r] == s[i]:
                curLen, r = curLen + 1, r + 1
            while l >= 0 and r < n and s[l] == s[r]:
                curLen += 2
                l, r = l - 1, r + 1
            if curLen >= maxLen:
                maxLen = curLen
                maxLeft = l
        return s[maxLeft + 1: maxLeft + maxLen + 1]
```

#### Java

```java
class Solution {
    public String longestPalindrome(String s) {
        int n = s.length();
        char[] cs = s.toCharArray();
        int maxLen = 0, maxLeft = 0;
        for(int i = 0; i < cs.length; i++) {
            int l = i - 1, r = i + 1;
            int curLen = 1;
            while(l >= 0 && cs[l] == cs[i]) {
                curLen++;
                l--;
            }
            while(r < n && cs[r] == cs[i]) {
                curLen++;
                r++;
            }
            while(l >= 0 && r < n && cs[l] == cs[r]) {
                l--;
                r++;
                curLen += 2;
            }
            if(curLen > maxLen) {
                maxLen = curLen;
                maxLeft = l;
            }
        }
        return s.substring(maxLeft + 1, maxLeft + 1 + maxLen);
    }
}
```

### æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’

ä¸­å¿ƒæ‰©æ•£æ³•åšäº†å¾ˆå¤šé‡å¤çš„è®¡ç®—ã€‚å…¶å®å¯ä»¥åœ¨è®¡ç®—çš„è¿‡ç¨‹ä¸­å°†è¿™äº›å€¼å­˜å‚¨èµ·æ¥ï¼Œå³è®°å¿†åŒ–æœç´¢ã€‚å¯ä»¥é‡‡ç”¨åŠ¨æ€è§„åˆ’å®ç°ã€‚

è®¾ `dp[i][j]`ï¼Œå…¶ä¸º`True` ä»£è¡¨ `[i, j]` åŒºé—´å­—ç¬¦ä¸²ä¸ºå›æ–‡å­—ç¬¦ä¸²

#### Python3

```python
class Solution:
    def longestPalindrome(self, s: str) -> str:
        n = len(s)
        maxLen, maxLeft, maxRight = 1, 0, 0
        dp = [[False]*n for _ in range(n)]
        for r in range(1, n):
            for l in range(r):
                if s[l] == s[r] and (r - l <= 2 or dp[l+1][r-1]):
                    dp[l][r] = True
                    if r - l + 1 > maxLen:
                        maxLen = r - l + 1
                        maxLeft, maxRight = l, r
        return s[maxLeft: maxRight + 1]
```

#### Java

```java
class Solution {
    public String longestPalindrome(String s) {
        int n = s.length();
        char[] cs = s.toCharArray();
        int maxLen = 0, maxLeft = 0, maxRight = 0;
        boolean[][] dp = new boolean[n][n];
        for(int r = 1; r < n; r++) {
            for(int l = 0; l < r; l++) {
                if(cs[l] == cs[r] && (r - l <= 2 || dp[l + 1][r - 1])) {
                    dp[l][r] = true;
                    if(r - l + 1> maxLen) {
                        maxLen = r - l + 1;
                        maxLeft = l;
                        maxRight = r;
                    }
                }
            }
        }
        return s.substring(maxLeft, maxRight + 1);
    }
}
```

